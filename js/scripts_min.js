function init(){var a;a=new ymaps.Map("map",{center:[59.93938527151221,30.329293370361277],zoom:16,controls:[]}),a.behaviors.disable("scrollZoom"),a.controls.add("zoomControl",{position:{top:15,left:15}});var b=new ymaps.Placemark([59.93870117473946,30.322978522415095],{},{iconLayout:"default#image",iconImageHref:"img/map-pin.svg",iconImageSize:[79,139],iconImageOffset:[-40,-139]});a.geoObjects.add(b)}var search_button=document.querySelector(".button-search"),search=document.querySelector(".search"),search_form=document.querySelector(".search-form"),cart_page=document.querySelector(".cart-button"),cart_button=document.querySelector(".cart-with-item"),cart_block=document.querySelector(".cart-block"),login_button=document.querySelector(".login-button"),link=document.querySelector(".login"),popup=document.querySelector(".login-form"),authorization=document.querySelector(".authorization-form"),feedback_btn=document.querySelector(".feedback-button"),feedback=document.querySelector(".popup-feedback");if(feedback_name)var feedback_name=feedback.querySelector("[name=feedback-name]");var close=document.querySelector(".popup-close"),overlay=document.querySelector(".popup-overlay"),search_field=search_form.querySelector("[name=search]"),login_field=authorization.querySelector("[name=email]"),pass=authorization.querySelector("[name=password]");link.addEventListener("mouseover",function(a){a.preventDefault(),popup.classList.add("modal-content-show")}),login_button.addEventListener("click",function(a){a.preventDefault()}),cart_page.addEventListener("click",function(a){a.preventDefault()}),search_button.addEventListener("click",function(a){a.preventDefault()}),cart_button&&cart_button.addEventListener("mouseover",function(a){a.preventDefault(),cart_block.classList.add("modal-content-show")}),cart_button&&cart_button.addEventListener("mouseout",function(a){popup.classList.remove("modal-content-show"),cart_block.classList.remove("modal-content-show")}),link.addEventListener("mouseout",function(a){popup.classList.remove("modal-content-show"),popup.classList.remove("modal-error")}),search.addEventListener("mouseover",function(a){a.preventDefault(),search_form.classList.add("modal-content-show"),search_field.focus()}),search.addEventListener("mouseout",function(a){search_form.classList.remove("modal-content-show")}),feedback_btn&&feedback_btn.addEventListener("click",function(a){a.preventDefault(),overlay.classList.add("modal-content-show"),feedback.classList.add("feedback-content-show"),feedback_name&&feedback_name.focus()}),feedback&&close.addEventListener("click",function(a){a.preventDefault(),feedback.classList.remove("feedback-content-show"),overlay.classList.remove("modal-content-show")}),feedback&&close.addEventListener("click",function(a){a.preventDefault(),feedback.classList.remove("feedback-content-show"),overlay.classList.remove("modal-content-show")}),feedback&&overlay.addEventListener("click",function(a){a.preventDefault(),feedback.classList.remove("feedback-content-show"),overlay.classList.remove("modal-content-show")}),feedback&&window.addEventListener("keydown",function(a){27===a.keyCode&&feedback.classList.contains("feedback-content-show")&&(feedback.classList.remove("feedback-content-show"),overlay.classList.remove("modal-content-show"))}),authorization.addEventListener("submit",function(a){login_field.value&&pass.value?localStorage.setItem("login",login_field.value):(a.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),feedback&&ymaps.ready(init);
